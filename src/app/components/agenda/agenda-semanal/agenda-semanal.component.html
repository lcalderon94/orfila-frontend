<div class="calendario-semanal">
    <div class="calendario-header">
      <div class="navegacion-semana">
        <button mat-icon-button (click)="semanaAnterior()">
          <mat-icon>chevron_left</mat-icon>
        </button>
        <h2>{{ formatoSemana() }}</h2>
        <button mat-icon-button (click)="semanaSiguiente()">
          <mat-icon>chevron_right</mat-icon>
        </button>
      </div>
    </div>
    
    <div class="semana-grid">
      <div *ngFor="let dia of diasSemana; let i = index" 
           class="dia-columna"
           [ngClass]="{'hoy': esHoy(dia.fecha)}">
        
        <div class="dia-header">
          <div class="dia-nombre">{{ nombresDias[i] }}</div>
          <div class="dia-fecha">{{ formatoFecha(dia.fecha) }}</div>
        </div>
        
        <div class="dia-contenido" (click)="crearEvento(dia.fecha)">
          <div *ngIf="dia.eventos.length === 0" class="sin-eventos">
            Sin eventos
          </div>
          
          <div *ngFor="let evento of dia.eventos" 
               class="evento-item"
               [style.background-color]="evento.color || '#3f51b5'"
               (click)="verEvento(evento, $event)">
            <div class="evento-hora" *ngIf="evento.horaInicio">
              {{ evento.horaInicio }}
            </div>
            <div class="evento-titulo">{{ evento.titulo }}</div>
            <div class="evento-descripcion" *ngIf="evento.descripcion">
              {{ evento.descripcion }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>